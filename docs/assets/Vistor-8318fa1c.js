import{g as F,h as x,M as L,Y as O,k as R,H as q,r as d,o as g,c as U,Z as I,$ as k,a as e,w as a,e as V,i as E,J as H,j as n,F as J,b as Z,l as $,a0 as A,a1 as G,a2 as K,p as Q,d as W,_ as X}from"./index-1b06a687.js";import{R as ee}from"./index-c754065a.js";const ae=f=>(Q("data-v-a30782ef"),f=f(),W(),f),te={class:"container"},le={class:"card-header"},oe=ae(()=>V("span",null,"救诊人管理",-1)),se={class:"register"},de={class:"writeInfo"},ne=F({__name:"Vistor",setup(f){const T=x(-1),b=x([]),c=x(!0),t=L({name:"",certificatesType:"",certificatesNo:"",sex:0,birthdate:"",phone:"",isMarry:0,isInsure:0,addressSelected:[],address:"",contactsName:"",contactsCertificatesType:"",contactsCertificatesNo:"",contactsPhone:""});O(()=>{c.value=!0}),R(async()=>{y()});const y=async()=>{const u=await q();b.value=u.data.data,u.data.code===200&&(b.value=u.data.data)},S=()=>{C(),c.value=!1},M={lazy:!0,async lazyLoad(u,l){const m=await A(u.data.value||"86");setTimeout(()=>{const v=m.data.data.map(r=>({value:r.value,label:r.name,leaf:!r.hasChildren}));l(v)},100)}},P=async()=>{await G(t),y(),c.value=!0},C=()=>{Object.assign(t,{id:null,name:"",certificatesType:"",certificatesNo:"",birthdate:"",sex:"",phone:"",isMarry:"",isInsure:"",addressSelected:"",address:"",contactsName:"",contactsCertificatesType:"",contactsCertificatesNo:"",contactsPhone:""})},D=u=>{Object.assign(t,u),c.value=!1},B=async u=>{await K(u),y()};return(u,l)=>{const m=d("el-button"),v=d("el-card"),r=d("el-divider"),i=d("el-input"),s=d("el-form-item"),_=d("el-option"),N=d("el-select"),p=d("el-radio"),h=d("el-radio-group"),Y=d("el-date-picker"),w=d("el-form"),z=d("el-cascader");return g(),U("div",te,[I(e(v,{class:"box-card",shadow:"always"},{header:a(()=>[V("div",le,[oe,e(m,{class:"button",type:"success",icon:E(H),onClick:S},{default:a(()=>[n("添加就诊人")]),_:1},8,["icon"])])]),default:a(()=>[V("div",se,[(g(!0),U(J,null,Z(b.value,(o,j)=>(g(),$(ee,{key:o.id,item:o,index:j,isDeleteIcon:!0,currentIndex:T.value,onChangeVistor:D,onDeleteVistor:B},null,8,["item","index","currentIndex"]))),128))])]),_:1},512),[[k,c.value===!0]]),I(V("div",de,[e(r,{"content-position":"left"},{default:a(()=>[n("就诊人信息")]),_:1}),e(w,{style:{width:"60%",margin:"10px auto"}},{default:a(()=>[e(s,{label:"用户姓名"},{default:a(()=>[e(i,{placeholder:"请你输入用户姓名",modelValue:t.name,"onUpdate:modelValue":l[0]||(l[0]=o=>t.name=o)},null,8,["modelValue"])]),_:1}),e(s,{label:"证件类型"},{default:a(()=>[e(N,{placeholder:"请你选择证件的类型",style:{width:"100%"},modelValue:t.certificatesType,"onUpdate:modelValue":l[1]||(l[1]=o=>t.certificatesType=o)},{default:a(()=>[e(_,{label:"身份证",value:"10"}),e(_,{label:"户口簿",value:"20"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"证件号码"},{default:a(()=>[e(i,{placeholder:"请你输入证件号码",modelValue:t.certificatesNo,"onUpdate:modelValue":l[2]||(l[2]=o=>t.certificatesNo=o)},null,8,["modelValue"])]),_:1}),e(s,{label:"用户性别"},{default:a(()=>[e(h,{modelValue:t.sex,"onUpdate:modelValue":l[3]||(l[3]=o=>t.sex=o)},{default:a(()=>[e(p,{label:1},{default:a(()=>[n("男")]),_:1}),e(p,{label:0},{default:a(()=>[n("女")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"出生日期"},{default:a(()=>[e(Y,{modelValue:t.birthdate,"onUpdate:modelValue":l[4]||(l[4]=o=>t.birthdate=o),"value-format":"YYYY-MM-DD",type:"date",placeholder:"请你选择日期"},null,8,["modelValue"])]),_:1}),e(s,{label:"手机号码"},{default:a(()=>[e(i,{placeholder:"请你输入用户手机号码",modelValue:t.phone,"onUpdate:modelValue":l[5]||(l[5]=o=>t.phone=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{"content-position":"left"},{default:a(()=>[n("建档信息（完善后部分医院首次就诊不排队建档）")]),_:1}),e(w,{style:{width:"60%",margin:"10px auto"}},{default:a(()=>[e(s,{label:"婚姻状况"},{default:a(()=>[e(h,{modelValue:t.isMarry,"onUpdate:modelValue":l[6]||(l[6]=o=>t.isMarry=o)},{default:a(()=>[e(p,{label:1},{default:a(()=>[n("已婚")]),_:1}),e(p,{label:0},{default:a(()=>[n("未婚")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"自费/医保"},{default:a(()=>[e(h,{modelValue:t.isInsure,"onUpdate:modelValue":l[7]||(l[7]=o=>t.isInsure=o)},{default:a(()=>[e(p,{label:1},{default:a(()=>[n("自费")]),_:1}),e(p,{label:0},{default:a(()=>[n("医保")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"当前的住址"},{default:a(()=>[e(z,{props:M,modelValue:t.addressSelected,"onUpdate:modelValue":l[8]||(l[8]=o=>t.addressSelected=o)},null,8,["modelValue"])]),_:1}),e(s,{label:"详细地址"},{default:a(()=>[e(i,{placeholder:"请你输入用户详细地址",modelValue:t.address,"onUpdate:modelValue":l[9]||(l[9]=o=>t.address=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{"content-position":"left"},{default:a(()=>[n("联系人信息（选填）")]),_:1}),e(w,{style:{width:"60%",margin:"10px auto"},"label-width":"80"},{default:a(()=>[e(s,{label:"用户姓名"},{default:a(()=>[e(i,{placeholder:"请你输入用户姓名",modelValue:t.contactsName,"onUpdate:modelValue":l[10]||(l[10]=o=>t.contactsName=o)},null,8,["modelValue"])]),_:1}),e(s,{label:"证件类型"},{default:a(()=>[e(N,{placeholder:"请你选择证件的类型",style:{width:"100%"},modelValue:t.contactsCertificatesType,"onUpdate:modelValue":l[11]||(l[11]=o=>t.contactsCertificatesType=o)},{default:a(()=>[e(_,{label:"身份证",value:"10"}),e(_,{label:"户口簿",value:"20"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"证件号码"},{default:a(()=>[e(i,{placeholder:"请你输入证件号码",modelValue:t.contactsCertificatesNo,"onUpdate:modelValue":l[12]||(l[12]=o=>t.contactsCertificatesNo=o)},null,8,["modelValue"])]),_:1}),e(s,{label:"手机号码"},{default:a(()=>[e(i,{placeholder:"请你输入用户手机号码",modelValue:t.contactsPhone,"onUpdate:modelValue":l[13]||(l[13]=o=>t.contactsPhone=o)},null,8,["modelValue"])]),_:1}),e(s,null,{default:a(()=>[e(m,{type:"primary",size:"default",onClick:P},{default:a(()=>[n("提交")]),_:1}),e(m,{type:"primary",size:"default",onClick:C},{default:a(()=>[n("重写")]),_:1})]),_:1})]),_:1})],512),[[k,c.value===!1]])])}}});const ie=X(ne,[["__scopeId","data-v-a30782ef"]]);export{ie as default};
